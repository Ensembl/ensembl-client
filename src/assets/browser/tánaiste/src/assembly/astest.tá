; external test: syncronous callbacks
.external:
    const #4,"running"
    dprint #4
    const #1,[4]
    const #2,[4]
    extern #3,#0,#0,"touch /tmp/x"
    extern #1,#0,#4,"ls /tmp/x ; rm /tmp/x"
    extern #2,#0,#5,"ls /tmp/x ; rm /tmp/x"
    const #1,"finished"
    dprint #1
    dprint #4
    dprint #5
    halt
