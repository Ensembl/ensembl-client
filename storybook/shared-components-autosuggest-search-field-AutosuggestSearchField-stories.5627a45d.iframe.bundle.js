"use strict";(globalThis.webpackChunkensembl_new=globalThis.webpackChunkensembl_new||[]).push([[9993],{"./stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MatchesSubmissionStory:()=>MatchesSubmissionStory,RawSearchSubmissionStory:()=>RawSearchSubmissionStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>shared_components_autosuggest_search_field_AutosuggestSearchField_stories});__webpack_require__("./node_modules/core-js/modules/es.error.cause.js"),__webpack_require__("./node_modules/core-js/modules/es.array.push.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");var react=__webpack_require__("./node_modules/react/index.js"),classnames=(__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),ShadedInput=__webpack_require__("./src/shared/components/input/ShadedInput.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),AutosuggestSearchField=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/shared/components/autosuggest-search-field/AutosuggestSearchField.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(AutosuggestSearchField.Z,options);const autosuggest_search_field_AutosuggestSearchField=AutosuggestSearchField.Z&&AutosuggestSearchField.Z.locals?AutosuggestSearchField.Z.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AutosuggestionPanel=props=>{var handleItemClick=itemIndex=>{props.onSelect(getMatchData(itemIndex))},getMatchData=itemIndex=>{if(itemIndex){var[groupIndex,matchIndex]=itemIndex;return props.matchGroups[groupIndex].matches[matchIndex].data}},groupsOfMatches=props.matchGroups.map(((group,index)=>{var{highlightedItemIndex}=props,[groupIndex,itemIndex]=highlightedItemIndex||[null,null],isGroupWithHighlightedItem=index===groupIndex;return(0,jsx_runtime.jsx)(GroupOfMatches,_objectSpread({onItemHover:props.onItemHover,onItemClick:handleItemClick,groupIndex:index,highlightedItemIndex:isGroupWithHighlightedItem?itemIndex:null},group),index)}));return(0,jsx_runtime.jsx)("div",{className:autosuggest_search_field_AutosuggestSearchField.autosuggestionPlate,children:groupsOfMatches})};AutosuggestionPanel.displayName="AutosuggestionPanel";var GroupOfMatches=props=>{var matches=props.matches.map(((match,index)=>(0,jsx_runtime.jsx)(Match,_objectSpread({groupIndex:props.groupIndex,itemIndex:index,isHighlighted:index===props.highlightedItemIndex,onHover:props.onItemHover,onClick:props.onItemClick},match),index)));return(0,jsx_runtime.jsx)("div",{className:autosuggest_search_field_AutosuggestSearchField.autosuggestionPlateMatchGroup,children:matches})};GroupOfMatches.displayName="GroupOfMatches";var Match=props=>{var index=[props.groupIndex,props.itemIndex],className=classnames_default()(autosuggest_search_field_AutosuggestSearchField.autosuggestionPlateItem,{[autosuggest_search_field_AutosuggestSearchField.autosuggestionPlateHighlightedItem]:props.isHighlighted});return(0,jsx_runtime.jsx)("div",{className,onMouseOver:()=>{props.isHighlighted||props.onHover(index)},onClick:()=>{props.onClick(index)},children:props.element})};Match.displayName="Match";const autosuggest_search_field_AutosuggestionPanel=AutosuggestionPanel;try{AutosuggestionPanel.displayName="AutosuggestionPanel",AutosuggestionPanel.__docgenInfo={description:"",displayName:"AutosuggestionPanel",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},highlightedItemIndex:{defaultValue:null,description:"",name:"highlightedItemIndex",required:!0,type:{name:"MatchIndex"}},matchGroups:{defaultValue:null,description:"",name:"matchGroups",required:!0,type:{name:"GroupOfMatchesType[]"}},onItemHover:{defaultValue:null,description:"",name:"onItemHover",required:!0,type:{name:"(itemIndex: MatchIndex) => void"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(match: any) => void"}},allowRawInputSubmission:{defaultValue:null,description:"",name:"allowRawInputSubmission",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/autosuggest-search-field/AutosuggestionPanel.tsx#AutosuggestionPanel"]={docgenInfo:AutosuggestionPanel.__docgenInfo,name:"AutosuggestionPanel",path:"src/shared/components/autosuggest-search-field/AutosuggestionPanel.tsx#AutosuggestionPanel"})}catch(__react_docgen_typescript_loader_error){}var defaultNotFoundText="No results found";var AutosuggestSearchField_AutosuggestSearchField=props=>{var{matchGroups=[],allowRawInputSubmission=!1,notFoundText=defaultNotFoundText}=props,preventSuggestionsProp=!1===props.canShowSuggestions,initialHighlightedItemIndex=allowRawInputSubmission?null:[0,0],[highlightedItemIndex,setHighlightedItemIndex]=(0,react.useState)(initialHighlightedItemIndex),[isSelected,setIsSelected]=(0,react.useState)(!1),[canShowSuggesions,setCanShowSuggestions]=(0,react.useState)(!0),element=(0,react.useRef)(null),inputRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{setIsSelected(!1)}),[props.search]),(0,react.useEffect)((()=>{var onClickOutside=event=>{var currentElement=element.current;currentElement&&(event.target===currentElement||currentElement.contains(event.target)||setCanShowSuggestions(!1))};return window.addEventListener("click",onClickOutside),()=>window.removeEventListener("click",onClickOutside)}),[]);var shouldShowSuggestions=Boolean(props.search&&!props.notFound&&matchGroups.length>0&&canShowSuggesions&&!isSelected&&!preventSuggestionsProp),className=classnames_default()(autosuggest_search_field_AutosuggestSearchField.autosuggestionSearchField,props.className);return(0,jsx_runtime.jsxs)("div",{ref:element,className,children:[(0,jsx_runtime.jsx)("form",{className:autosuggest_search_field_AutosuggestSearchField.autosuggestionSearchFieldWrapper,onSubmit:()=>{var value=inputRef.current.value;if(!highlightedItemIndex&&props.allowRawInputSubmission)props.onSubmit(value);else if(highlightedItemIndex){var _matchGroups$groupInd,[groupIndex,itemIndex]=highlightedItemIndex,_match=null===(_matchGroups$groupInd=matchGroups[groupIndex])||void 0===_matchGroups$groupInd?void 0:_matchGroups$groupInd.matches[itemIndex];if(!_match)return;props.onSelect(_match.data),setHighlightedItemIndex(initialHighlightedItemIndex)}setIsSelected(!0)},children:(0,jsx_runtime.jsx)(ShadedInput.Z,{ref:inputRef,type:"search",value:props.search,placeholder:props.placeholder,onInput:event=>{var value=event.currentTarget.value;value!==props.search&&props.onChange(value)},onFocus:()=>{canShowSuggesions||setCanShowSuggestions(!0),props.onFocus&&props.onFocus()},onBlur:()=>{props.onBlur&&props.onBlur()},onKeyDown:event=>{["ArrowUp","ArrowDown"].includes(event.key)&&(event.preventDefault(),"ArrowUp"===event.key?setHighlightedItemIndex(function getPreviousItemIndex(props,currentItemIndex){var{matchGroups=[],allowRawInputSubmission}=props,[groupIndex,itemIndex]=currentItemIndex||[null,null],lastGroupIndex=matchGroups.length-1,lastItemIndex=[lastGroupIndex,matchGroups[lastGroupIndex].matches.length-1];if(null===itemIndex)return lastItemIndex;if(itemIndex>0)return[groupIndex,itemIndex-1];if(0===groupIndex)return allowRawInputSubmission?null:lastItemIndex;if("number"==typeof groupIndex){var previousGroupIndex=groupIndex-1;return[previousGroupIndex,matchGroups[previousGroupIndex].matches.length-1]}return null}(props,highlightedItemIndex)):setHighlightedItemIndex(function getNextItemIndex(props,currentItemIndex){var{matchGroups=[],allowRawInputSubmission=!1}=props,[groupIndex,itemIndex]=currentItemIndex||[null,null],currentGroup="number"==typeof groupIndex?matchGroups[groupIndex]:null,firstItemIndex=[0,0];return null===itemIndex?firstItemIndex:currentGroup&&itemIndex<currentGroup.matches.length-1?[groupIndex,itemIndex+1]:groupIndex===matchGroups.length-1?allowRawInputSubmission?null:firstItemIndex:"number"==typeof groupIndex?[groupIndex+1,0]:null}(props,highlightedItemIndex)))},help:props.help,className:props.searchFieldClassName,size:"large",autoComplete:"off"})}),shouldShowSuggestions&&(0,jsx_runtime.jsx)(autosuggest_search_field_AutosuggestionPanel,{highlightedItemIndex,matchGroups,onSelect:match=>{setIsSelected(!0),props.onSelect(match)},allowRawInputSubmission,onItemHover:itemIndex=>{setHighlightedItemIndex(itemIndex)}}),props.notFound&&(0,jsx_runtime.jsx)("div",{className:autosuggest_search_field_AutosuggestSearchField.autosuggestionPlate,children:notFoundText})]})};AutosuggestSearchField_AutosuggestSearchField.displayName="AutosuggestSearchField";const components_autosuggest_search_field_AutosuggestSearchField=AutosuggestSearchField_AutosuggestSearchField;try{AutosuggestSearchField_AutosuggestSearchField.displayName="AutosuggestSearchField",AutosuggestSearchField_AutosuggestSearchField.__docgenInfo={description:"",displayName:"AutosuggestSearchField",props:{search:{defaultValue:null,description:"",name:"search",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(match: any) => void"}},matchGroups:{defaultValue:null,description:"",name:"matchGroups",required:!1,type:{name:"GroupOfMatchesType[]"}},canShowSuggestions:{defaultValue:null,description:"",name:"canShowSuggestions",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"(() => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"(() => void)"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},searchFieldClassName:{defaultValue:null,description:"",name:"searchFieldClassName",required:!1,type:{name:"string"}},notFound:{defaultValue:null,description:"",name:"notFound",required:!1,type:{name:"boolean"}},notFoundText:{defaultValue:null,description:"",name:"notFoundText",required:!1,type:{name:"string"}},allowRawInputSubmission:{defaultValue:null,description:"",name:"allowRawInputSubmission",required:!1,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/autosuggest-search-field/AutosuggestSearchField.tsx#AutosuggestSearchField"]={docgenInfo:AutosuggestSearchField_AutosuggestSearchField.__docgenInfo,name:"AutosuggestSearchField",path:"src/shared/components/autosuggest-search-field/AutosuggestSearchField.tsx#AutosuggestSearchField"})}catch(__react_docgen_typescript_loader_error){}var QuestionButton=__webpack_require__("./src/shared/components/question-button/QuestionButton.tsx");var human38Match={description:"Human",scientific_name:"Homo sapiens",assembly_name:"GRCh38.p12",matched_substrings:[{length:3,offset:0,match:"description"}],genome:"GRCh38_demo"},human37Match={description:"Human",scientific_name:"Homo sapiens",assembly_name:"GRCh37.p12",matched_substrings:[{length:3,offset:0,match:"description"}],self:"http://whatever.com/GRCh37_demo",genome:"GRCh37_demo"},azospirillumMatch={description:"Azospirillum humicireducens",scientific_name:null,assembly_name:null,matched_substrings:[{length:3,offset:13,match:"description"}],genome:"SgZ-5T"},AutosuggestSearchField_stories=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.scss"),AutosuggestSearchField_stories_options={};AutosuggestSearchField_stories_options.styleTagTransform=styleTagTransform_default(),AutosuggestSearchField_stories_options.setAttributes=setAttributesWithoutAttributes_default(),AutosuggestSearchField_stories_options.insert=insertBySelector_default().bind(null,"head"),AutosuggestSearchField_stories_options.domAPI=styleDomAPI_default(),AutosuggestSearchField_stories_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(AutosuggestSearchField_stories.Z,AutosuggestSearchField_stories_options);const autosuggest_search_field_AutosuggestSearchField_stories=AutosuggestSearchField_stories.Z&&AutosuggestSearchField_stories.Z.locals?AutosuggestSearchField_stories.Z.locals:void 0;var _MatchesSubmissionSto,_MatchesSubmissionSto2,_RawSearchSubmissionS,_RawSearchSubmissionS2,_excluded=["searchField"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function AutosuggestSearchField_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AutosuggestSearchField_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AutosuggestSearchField_stories_ownKeys(Object(t),!0).forEach((function(r){AutosuggestSearchField_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AutosuggestSearchField_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AutosuggestSearchField_stories_defineProperty(obj,key,value){return(key=function AutosuggestSearchField_stories_toPropertyKey(arg){var key=function AutosuggestSearchField_stories_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ItemWrapper=props=>(0,jsx_runtime.jsx)("span",{children:props.description});ItemWrapper.displayName="ItemWrapper";var groupedMatches=[{matches:[{data:human38Match,element:(0,jsx_runtime.jsx)(ItemWrapper,AutosuggestSearchField_stories_objectSpread({},human38Match))},{data:human37Match,element:(0,jsx_runtime.jsx)(ItemWrapper,AutosuggestSearchField_stories_objectSpread({},human37Match))}]},{matches:[{data:azospirillumMatch,element:(0,jsx_runtime.jsx)(ItemWrapper,AutosuggestSearchField_stories_objectSpread({},azospirillumMatch))}]}],Wrapper=props=>{var[value,setValue]=(0,react.useState)(""),[isSelected,setIsSelected]=(0,react.useState)(!1),{searchField:AutosuggestSearchField}=props,otherProps=_objectWithoutProperties(props,_excluded);return(0,react.useEffect)((()=>{setIsSelected(!1)}),[value]),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(AutosuggestSearchField,AutosuggestSearchField_stories_objectSpread({search:value,onChange:setValue,onSubmit:value=>{setIsSelected(!0),props.onSelect(value)},onSelect:match=>{var{description}=match;setValue(description),setTimeout((()=>setIsSelected(!0)),0),props.onSubmit(description)},canShowSuggestions:!isSelected,className:autosuggest_search_field_AutosuggestSearchField_stories.autosuggestSearchField,searchFieldClassName:autosuggest_search_field_AutosuggestSearchField_stories.autosuggestSearchFieldInput},otherProps))})};Wrapper.displayName="Wrapper";var RightCorner=()=>(0,jsx_runtime.jsx)(QuestionButton.Z,{helpText:"this is a hint"});RightCorner.displayName="RightCorner";var MatchesSubmissionStory=args=>(0,jsx_runtime.jsxs)("div",{className:autosuggest_search_field_AutosuggestSearchField_stories.container,children:[(0,jsx_runtime.jsx)("p",{children:"For description of the component's behaviour, see the Notes tab."}),(0,jsx_runtime.jsxs)("div",{className:autosuggest_search_field_AutosuggestSearchField_stories.example,children:[(0,jsx_runtime.jsx)("p",{children:"Notice how the first match is immediately selected. Check the Actions panel to see what gets submitted."}),(0,jsx_runtime.jsx)(Wrapper,AutosuggestSearchField_stories_objectSpread({searchField:components_autosuggest_search_field_AutosuggestSearchField,matchGroups:groupedMatches,rightCorner:(0,jsx_runtime.jsx)(RightCorner,{})},args))]}),(0,jsx_runtime.jsxs)("div",{className:autosuggest_search_field_AutosuggestSearchField_stories.example,children:[(0,jsx_runtime.jsx)("p",{children:"If no matches were found, pressing Enter will not submit the raw search string."}),(0,jsx_runtime.jsx)(Wrapper,AutosuggestSearchField_stories_objectSpread({searchField:components_autosuggest_search_field_AutosuggestSearchField,rightCorner:(0,jsx_runtime.jsx)(RightCorner,{})},args))]})]});MatchesSubmissionStory.displayName="MatchesSubmissionStory",MatchesSubmissionStory.storyName="allowing only submission of matches";var RawSearchSubmissionStory=args=>(0,jsx_runtime.jsxs)("div",{className:autosuggest_search_field_AutosuggestSearchField_stories.container,children:[(0,jsx_runtime.jsxs)("div",{className:autosuggest_search_field_AutosuggestSearchField_stories.example,children:[(0,jsx_runtime.jsx)("p",{children:"Notice that, as opposed to the other variant, first suggestion is not automatically pre-selected. Pressing enter when no suggestion is selected will submit current content of the search field (see the Actions panel)."}),(0,jsx_runtime.jsx)(Wrapper,AutosuggestSearchField_stories_objectSpread({searchField:components_autosuggest_search_field_AutosuggestSearchField,matchGroups:groupedMatches,allowRawInputSubmission:!0,rightCorner:(0,jsx_runtime.jsx)(RightCorner,{})},args))]}),(0,jsx_runtime.jsxs)("div",{className:autosuggest_search_field_AutosuggestSearchField_stories.example,children:[(0,jsx_runtime.jsx)("p",{children:"When no matches are available, pressing enter will submit the current content of the field."}),(0,jsx_runtime.jsx)(Wrapper,AutosuggestSearchField_stories_objectSpread({searchField:components_autosuggest_search_field_AutosuggestSearchField,allowRawInputSubmission:!0,rightCorner:(0,jsx_runtime.jsx)(RightCorner,{})},args))]})]});RawSearchSubmissionStory.displayName="RawSearchSubmissionStory",RawSearchSubmissionStory.storyName="allowing raw search submission";const shared_components_autosuggest_search_field_AutosuggestSearchField_stories={title:"Components/Shared Components/AutosuggestSearchField",parameters:{notes:"# AutosuggestSearchField\n\n## Behaviour\n\nThis component should enable the following behaviours:\n\n### Regular use case\n\nFocus on the field. Start typing. If any matches are found, they will be presented in the autosuggestion panel. Click on a suggestion to submit it.\n\n### Prepopulate with data\n\nTrigger a different component (e.g. PopularSpeciesButton) to provide data to the search field. The field gets filled with relevant data, but, importantly, it does not open autosuggest panel.\n\n### Keyboard navigation\nStart typing. Get suggestions. Cycle between suggestions using arrow keys. Pressing `enter` when focused on a particular suggestion should select this suggestion.\n\n### Focus/blur\nStart typing. Get suggestions. Click on a different element in the document. The autosuggestion panel should close. Focus back on the field. The autosuggestion panel should reappear.\n\n### Submission of raw search string\nAutosuggestSearchField can have two different modes of behaviour, depending on a particular passed prop (`allowRawInputSubmission`):\n\n1. When user keys in the search and is presented with a list of autosuggestions, the first suggestion will be automatically pre-selected (highlighted). Pressing `enter` will confirm the selection. Cycling between the suggestions with up and down arrow keys will ensure that some suggestion is always highlighted. It is impossible to submit anything other than a suggested result.\n\n2. The user may submit a partial match (whatever is entered in the field). Pressing `enter` when a suggestion is not highlighted will submit the contents of the search field; pressing `enter` when a suggestion is highlighted will submit this suggestion.\n\n## Suggested results\n\nAccording to designs, it should be possible to arrange suggested results into groups (with optional headings); that's why the shape of the `matches` property accepted by the component is an array of group objects, each of which in turn will contain an array of matched results.\n"},argTypes:{onSelect:{action:"selected"},onSubmit:{action:"submitted"}}};MatchesSubmissionStory.parameters=AutosuggestSearchField_stories_objectSpread(AutosuggestSearchField_stories_objectSpread({},MatchesSubmissionStory.parameters),{},{docs:AutosuggestSearchField_stories_objectSpread(AutosuggestSearchField_stories_objectSpread({},null===(_MatchesSubmissionSto=MatchesSubmissionStory.parameters)||void 0===_MatchesSubmissionSto?void 0:_MatchesSubmissionSto.docs),{},{source:AutosuggestSearchField_stories_objectSpread({originalSource:"(args: DefaultArgs) => <div className={styles.container}>\n    <p>For description of the component's behaviour, see the Notes tab.</p>\n    <div className={styles.example}>\n      <p>\n        Notice how the first match is immediately selected. Check the Actions\n        panel to see what gets submitted.\n      </p>\n      <Wrapper searchField={AutosuggestSearchField} matchGroups={groupedMatches} rightCorner={<RightCorner />} {...args} />\n    </div>\n    <div className={styles.example}>\n      <p>\n        If no matches were found, pressing Enter will not submit the raw search\n        string.\n      </p>\n      <Wrapper searchField={AutosuggestSearchField} rightCorner={<RightCorner />} {...args} />\n    </div>\n  </div>"},null===(_MatchesSubmissionSto2=MatchesSubmissionStory.parameters)||void 0===_MatchesSubmissionSto2||null===(_MatchesSubmissionSto2=_MatchesSubmissionSto2.docs)||void 0===_MatchesSubmissionSto2?void 0:_MatchesSubmissionSto2.source)})}),RawSearchSubmissionStory.parameters=AutosuggestSearchField_stories_objectSpread(AutosuggestSearchField_stories_objectSpread({},RawSearchSubmissionStory.parameters),{},{docs:AutosuggestSearchField_stories_objectSpread(AutosuggestSearchField_stories_objectSpread({},null===(_RawSearchSubmissionS=RawSearchSubmissionStory.parameters)||void 0===_RawSearchSubmissionS?void 0:_RawSearchSubmissionS.docs),{},{source:AutosuggestSearchField_stories_objectSpread({originalSource:"(args: DefaultArgs) => <div className={styles.container}>\n    <div className={styles.example}>\n      <p>\n        Notice that, as opposed to the other variant, first suggestion is not\n        automatically pre-selected. Pressing enter when no suggestion is\n        selected will submit current content of the search field (see the\n        Actions panel).\n      </p>\n      <Wrapper searchField={AutosuggestSearchField} matchGroups={groupedMatches} allowRawInputSubmission={true} rightCorner={<RightCorner />} {...args} />\n    </div>\n    <div className={styles.example}>\n      <p>\n        When no matches are available, pressing enter will submit the current\n        content of the field.\n      </p>\n      <Wrapper searchField={AutosuggestSearchField} allowRawInputSubmission={true} rightCorner={<RightCorner />} {...args} />\n    </div>\n  </div>"},null===(_RawSearchSubmissionS2=RawSearchSubmissionStory.parameters)||void 0===_RawSearchSubmissionS2||null===(_RawSearchSubmissionS2=_RawSearchSubmissionS2.docs)||void 0===_RawSearchSubmissionS2?void 0:_RawSearchSubmissionS2.source)})});var __namedExportsOrder=["MatchesSubmissionStory","RawSearchSubmissionStory"];try{MatchesSubmissionStory.displayName="MatchesSubmissionStory",MatchesSubmissionStory.__docgenInfo={description:"",displayName:"MatchesSubmissionStory",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(...args: any) => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(...args: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.tsx#MatchesSubmissionStory"]={docgenInfo:MatchesSubmissionStory.__docgenInfo,name:"MatchesSubmissionStory",path:"stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.tsx#MatchesSubmissionStory"})}catch(__react_docgen_typescript_loader_error){}try{RawSearchSubmissionStory.displayName="RawSearchSubmissionStory",RawSearchSubmissionStory.__docgenInfo={description:"",displayName:"RawSearchSubmissionStory",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(...args: any) => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(...args: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.tsx#RawSearchSubmissionStory"]={docgenInfo:RawSearchSubmissionStory.__docgenInfo,name:"RawSearchSubmissionStory",path:"stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.tsx#RawSearchSubmissionStory"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./src/shared/components/autosuggest-search-field/AutosuggestSearchField.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".autosuggestionSearchFieldWrapper__AutosuggestSearchField__HYkcP{width:100%}.autosuggestionSearchField__AutosuggestSearchField__wY2XL{position:relative}.autosuggestionPlate__AutosuggestSearchField__bUp6c{position:absolute;left:0;bottom:0;transform:translateY(100%) translateY(1px);width:100%;z-index:1;padding:18px 24px;background:#fff;border:1px solid #b7c0c8;box-shadow:2px 2px 6px 0 #b7c0c8}.autosuggestionPlateMatchGroup__AutosuggestSearchField__OvdQK:not(:first-child){margin-top:1em}.autosuggestionPlateItem__AutosuggestSearchField__aQaqX{padding:2px 24px;margin:0 -23px;cursor:pointer}.autosuggestionPlateHighlightedItem__AutosuggestSearchField__BVyDf{background-color:#e5f5ff}","",{version:3,sources:["webpack://./src/shared/components/autosuggest-search-field/AutosuggestSearchField.scss","webpack://./src/styles/_settings.scss"],names:[],mappings:"AAEA,iEACE,UAAA,CAGF,0DACE,iBAAA,CAGF,oDACE,iBAAA,CACA,MAAA,CACA,QAAA,CACA,0CAAA,CACA,UAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,wBAAA,CACA,gCAAA,CAIA,gFACE,cAAA,CAIJ,wDACE,gBAAA,CACA,cAAA,CACA,cAAA,CAGF,mEACE,wBCLS",sourcesContent:["@import 'src/styles/common';\n\n.autosuggestionSearchFieldWrapper {\n  width: 100%;\n}\n\n.autosuggestionSearchField {\n  position: relative;\n}\n\n.autosuggestionPlate {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  transform: translateY(100%) translateY(1px);\n  width: 100%;\n  z-index: 1;\n  padding: 18px 24px;\n  background: white;\n  border: 1px solid $grey;\n  box-shadow: 2px 2px 6px 0 $grey;\n}\n\n.autosuggestionPlateMatchGroup {\n  &:not(:first-child) {\n    margin-top: 1em;\n  }\n}\n\n.autosuggestionPlateItem {\n  padding: 2px 24px;\n  margin: 0 -23px;\n  cursor: pointer;\n}\n\n.autosuggestionPlateHighlightedItem {\n  background-color: $ice-blue;\n}\n","// 1. Global\n// ---------\n\n$global-font-size: 13px;\n$global-lineheight: 1.5;\n$black: #1b2c39;\n$white: #fff;\n$off-white: #fefefe;\n$body-background: $off-white;\n$body-font-color: $black;\n$body-font-family: Lato, 'Helvetica Neue', Helvetica, Roboto, Arial, sans-serif;\n$body-antialiased: true;\n$global-weight-normal: normal;\n$global-weight-bold: bold;\n$global-radius: 0;\n$global-button-cursor: auto;\n\n$standard-gutter: 30px;\n$half-gutter: calc($standard-gutter / 2);\n$double-standard-gutter: calc($standard-gutter * 2);\n$global-padding-left: calc($standard-gutter * 4);\n$global-padding-bottom: 90px;\n\n// Colour Palette\n// ---------\n$soft-black: #374148;\n\n$shadow-color: rgba(0, 0, 0, 0.4);\n\n$blue: #0099ff; // blue on white\n$light-blue: #33adff; // blue on black\n$ice-blue: #e5f5ff; // text highlight\n$teal: #327C89;\n$duckegg-blue: #96D0C9;\n$neon-blue: #8ef4f8;\n\n$light-grey: #f1f2f4;\n$medium-light-grey: #d4d9de;\n$grey: #b7c0c8;\n$medium-dark-grey: #9aa7b1;\n$dark-grey: #6f8190;\n\n$red: #d90000;\n$dark-pink: #e685ae;\n$purple: #ca81ff;\n\n$orange: #ff9900;\n$mustard: #cc9933;\n$dark-yellow: #f8c041;\n\n$green: #47d147;\n$lime: #84fa3a;\n\n$global-box-shadow: $medium-light-grey;\n$form-field-shadow: inset 2px 2px 4px -2px $medium-dark-grey,\n  inset -2px -2px 1px -2px $dark-grey;\n\n/* stylelint-disable */\n:export {\n  black: $black;\n  soft-black: $soft-black;\n  blue: $blue;\n  light-blue: $light-blue;\n  ice-blue: $ice-blue;\n  red: $red;\n  orange: $orange;\n  mustard: $mustard;\n  dark-grey: $dark-grey;\n  medium-dark-grey: $medium-dark-grey;\n  grey: $grey;\n  medium-light-grey: $medium-light-grey;\n  light-grey: $light-grey;\n  green: $green;\n  white: $white;\n  shadow-color: $shadow-color;\n}\n/* stylelint-enable */\n\n$img-base-url: '/static/img';\n\n// font weights\n\n$light: 300;\n$normal: 400;\n$bold: 700;\n$dark: 900;\n\n// Base Typography\n// ------------------\n\n$font-family-monospace: 'IBM Plex Mono', 'Liberation Mono', Courier, monospace;\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={black:"#1b2c39","soft-black":"#374148",blue:"#09f","light-blue":"#33adff","ice-blue":"#e5f5ff",red:"#d90000",orange:"#f90",mustard:"#c93","dark-grey":"#6f8190","medium-dark-grey":"#9aa7b1",grey:"#b7c0c8","medium-light-grey":"#d4d9de","light-grey":"#f1f2f4",green:"#47d147",white:"#fff","shadow-color":"rgba(0,0,0,.4)",autosuggestionSearchFieldWrapper:"autosuggestionSearchFieldWrapper__AutosuggestSearchField__HYkcP",autosuggestionSearchField:"autosuggestionSearchField__AutosuggestSearchField__wY2XL",autosuggestionPlate:"autosuggestionPlate__AutosuggestSearchField__bUp6c",autosuggestionPlateMatchGroup:"autosuggestionPlateMatchGroup__AutosuggestSearchField__OvdQK",autosuggestionPlateItem:"autosuggestionPlateItem__AutosuggestSearchField__aQaqX",autosuggestionPlateHighlightedItem:"autosuggestionPlateHighlightedItem__AutosuggestSearchField__BVyDf"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./node_modules/sass-loader/dist/cjs.js!./stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".container__AutosuggestSearchField-stories__W6_R_{padding:40px}.example__AutosuggestSearchField-stories___06FK{margin-bottom:2em}.autosuggestSearchField__AutosuggestSearchField-stories__q6XUz{height:36px;width:300px;align-items:center}.autosuggestSearchFieldInput__AutosuggestSearchField-stories__u_bou{width:100%;height:100%}","",{version:3,sources:["webpack://./stories/shared-components/autosuggest-search-field/AutosuggestSearchField.stories.scss"],names:[],mappings:"AAAA,kDACE,YAAA,CAGF,gDACE,iBAAA,CAGF,+DACE,WAAA,CACA,WAAA,CACA,kBAAA,CAGF,oEACE,UAAA,CACA,WAAA",sourcesContent:[".container {\n  padding: 40px;\n}\n\n.example {\n  margin-bottom: 2em;\n}\n\n.autosuggestSearchField {\n  height: 36px;\n  width: 300px;\n  align-items: center;\n}\n\n.autosuggestSearchFieldInput {\n  width: 100%;\n  height: 100%;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={container:"container__AutosuggestSearchField-stories__W6_R_",example:"example__AutosuggestSearchField-stories___06FK",autosuggestSearchField:"autosuggestSearchField__AutosuggestSearchField-stories__q6XUz",autosuggestSearchFieldInput:"autosuggestSearchFieldInput__AutosuggestSearchField-stories__u_bou"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);