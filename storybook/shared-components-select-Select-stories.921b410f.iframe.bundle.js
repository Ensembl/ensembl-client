"use strict";(globalThis.webpackChunkensembl_new=globalThis.webpackChunkensembl_new||[]).push([[9383],{"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/shared/components/select/Select.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".select__Select-module__odMcX {\n  --options-panel-top-padding: 12px;\n  --options-panel-right-padding: 22px;\n  --options-panel-left-padding: 14px;\n  position: relative;\n  display: inline-block;\n}\n\n.select__Select-module__odMcX:focus {\n  outline: auto;\n  outline-style: dotted;\n  outline-width: 2px;\n}\n\n.selectOpen__Select-module__v8Q0p:focus {\n  outline: none;\n}\n\n.selectArrowhead__Select-module__cC63s {\n  margin-left: 0.8em;\n  height: 8px;\n  width: 8px;\n  fill: var(--color-blue);\n}\n\n.selectControl__Select-module__ynpD4 {\n  cursor: pointer;\n}\n\n.selectControlInvisible__Select-module__UjWpL {\n  visibility: hidden;\n}\n\n.optionsPanel__Select-module__t71MB {\n  position: absolute;\n  background-color: var(--color-white);\n  left: calc(-1 * var(--options-panel-left-padding));\n  top: calc(-1 * var(--options-panel-top-padding));\n  display: inline-block;\n  min-width: 100%;\n  padding: var(--options-panel-top-padding) 0 34px 0;\n  box-shadow: 2px 2px 6px 0 var(--color-grey);\n  white-space: nowrap;\n  z-index: 1;\n}\n\n.optionsPanel__Select-module__t71MB ul {\n  padding: 0;\n}\n\n.optionsListContainer__Select-module__ate4B {\n  height: calc(100% - 35px);\n  position: relative;\n}\n\n.optionsList__Select-module__K62cJ {\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  scrollbar-width: none; /* hide the vertical scrollbar for Firefox v64 and above; will probably become the standard */\n}\n\n.optionsList__Select-module__K62cJ::-webkit-scrollbar {\n  display: none; /* hide scrollbar in Webkit-based browsers */\n}\n\n.scrollButtonTop__Select-module__yByoN,\n.scrollButtonBottom__Select-module__kqdsz {\n  position: absolute;\n  left: 0;\n  background: var(--color-white);\n  width: 100%;\n  text-align: center;\n}\n\n.scrollButtonTop__Select-module__yByoN {\n  top: 0;\n}\n\n.scrollButtonBottom__Select-module__kqdsz {\n  bottom: 0;\n}\n\n.optionsPanelHeader__Select-module__v4ZSB,\n.option__Select-module__Ymplf {\n  margin: 0 1px;\n  padding: 0 calc(var(--options-panel-right-padding) - 1px) 0\n    calc(var(--options-panel-left-padding) - 1px);\n}\n\n.optionsPanelHeader__Select-module__v4ZSB {\n  color: var(--color-grey);\n  margin-bottom: 1em;\n}\n\n.optionsGroup__Select-module__TMxWg:first-child {\n  margin: 0;\n}\n\n.optionsGroup__Select-module__TMxWg:not(:first-child) {\n  margin: 1em 0 0;\n}\n\n.option__Select-module__Ymplf {\n  cursor: pointer;\n}\n\n.optionHighlighted__Select-module__SXr5t {\n  background-color: var(--color-ice-blue);\n}\n","",{version:3,sources:["webpack://./src/shared/components/select/Select.module.css"],names:[],mappings:"AAAA;EACE,iCAAiC;EACjC,mCAAmC;EACnC,kCAAkC;EAClC,kBAAkB;EAClB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,qBAAqB;EACrB,kBAAkB;AACpB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV,uBAAuB;AACzB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,oCAAoC;EACpC,kDAAkD;EAClD,gDAAgD;EAChD,qBAAqB;EACrB,eAAe;EACf,kDAAkD;EAClD,2CAA2C;EAC3C,mBAAmB;EACnB,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,qBAAqB,EAAE,6FAA6F;AACtH;;AAEA;EACE,aAAa,EAAE,4CAA4C;AAC7D;;AAEA;;EAEE,kBAAkB;EAClB,OAAO;EACP,8BAA8B;EAC9B,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,MAAM;AACR;;AAEA;EACE,SAAS;AACX;;AAEA;;EAEE,aAAa;EACb;iDAC+C;AACjD;;AAEA;EACE,wBAAwB;EACxB,kBAAkB;AACpB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,uCAAuC;AACzC",sourcesContent:[".select {\n  --options-panel-top-padding: 12px;\n  --options-panel-right-padding: 22px;\n  --options-panel-left-padding: 14px;\n  position: relative;\n  display: inline-block;\n}\n\n.select:focus {\n  outline: auto;\n  outline-style: dotted;\n  outline-width: 2px;\n}\n\n.selectOpen:focus {\n  outline: none;\n}\n\n.selectArrowhead {\n  margin-left: 0.8em;\n  height: 8px;\n  width: 8px;\n  fill: var(--color-blue);\n}\n\n.selectControl {\n  cursor: pointer;\n}\n\n.selectControlInvisible {\n  visibility: hidden;\n}\n\n.optionsPanel {\n  position: absolute;\n  background-color: var(--color-white);\n  left: calc(-1 * var(--options-panel-left-padding));\n  top: calc(-1 * var(--options-panel-top-padding));\n  display: inline-block;\n  min-width: 100%;\n  padding: var(--options-panel-top-padding) 0 34px 0;\n  box-shadow: 2px 2px 6px 0 var(--color-grey);\n  white-space: nowrap;\n  z-index: 1;\n}\n\n.optionsPanel ul {\n  padding: 0;\n}\n\n.optionsListContainer {\n  height: calc(100% - 35px);\n  position: relative;\n}\n\n.optionsList {\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  scrollbar-width: none; /* hide the vertical scrollbar for Firefox v64 and above; will probably become the standard */\n}\n\n.optionsList::-webkit-scrollbar {\n  display: none; /* hide scrollbar in Webkit-based browsers */\n}\n\n.scrollButtonTop,\n.scrollButtonBottom {\n  position: absolute;\n  left: 0;\n  background: var(--color-white);\n  width: 100%;\n  text-align: center;\n}\n\n.scrollButtonTop {\n  top: 0;\n}\n\n.scrollButtonBottom {\n  bottom: 0;\n}\n\n.optionsPanelHeader,\n.option {\n  margin: 0 1px;\n  padding: 0 calc(var(--options-panel-right-padding) - 1px) 0\n    calc(var(--options-panel-left-padding) - 1px);\n}\n\n.optionsPanelHeader {\n  color: var(--color-grey);\n  margin-bottom: 1em;\n}\n\n.optionsGroup:first-child {\n  margin: 0;\n}\n\n.optionsGroup:not(:first-child) {\n  margin: 1em 0 0;\n}\n\n.option {\n  cursor: pointer;\n}\n\n.optionHighlighted {\n  background-color: var(--color-ice-blue);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={select:"select__Select-module__odMcX",selectOpen:"selectOpen__Select-module__v8Q0p",selectArrowhead:"selectArrowhead__Select-module__cC63s",selectControl:"selectControl__Select-module__ynpD4",selectControlInvisible:"selectControlInvisible__Select-module__UjWpL",optionsPanel:"optionsPanel__Select-module__t71MB",optionsListContainer:"optionsListContainer__Select-module__ate4B",optionsList:"optionsList__Select-module__K62cJ",scrollButtonTop:"scrollButtonTop__Select-module__yByoN",scrollButtonBottom:"scrollButtonBottom__Select-module__kqdsz",optionsPanelHeader:"optionsPanelHeader__Select-module__v4ZSB",option:"option__Select-module__Ymplf",optionsGroup:"optionsGroup__Select-module__TMxWg",optionHighlighted:"optionHighlighted__Select-module__SXr5t"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./stories/shared-components/select/Select.stories.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".defaultWrapper__Select-stories-module___HgiV {\n  padding: 40px;\n}\n","",{version:3,sources:["webpack://./stories/shared-components/select/Select.stories.module.css"],names:[],mappings:"AAAA;EACE,aAAa;AACf",sourcesContent:[".defaultWrapper {\n  padding: 40px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={defaultWrapper:"defaultWrapper__Select-stories-module___HgiV"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./stories/shared-components/select/Select.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultSelectStory:()=>DefaultSelectStory,GroupedOptionsStory:()=>GroupedOptionsStory,ManyOptionsSelectStory:()=>ManyOptionsSelectStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Select_stories});var react=__webpack_require__("./node_modules/react/index.js"),times=__webpack_require__("./node_modules/lodash/times.js"),times_default=__webpack_require__.n(times),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),cloneDeep=__webpack_require__("./node_modules/lodash/cloneDeep.js"),cloneDeep_default=__webpack_require__.n(cloneDeep),isEqual=__webpack_require__("./node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual);const getPanelScrollStatus=panel=>({isScrolledToTop:0===panel.scrollTop,isScrolledToBottom:panel.scrollTop===panel.scrollHeight-panel.clientHeight});__webpack_require__("./node_modules/core-js/modules/es.iterator.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.iterator.map.js");var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Select_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/shared/components/select/Select.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Select_module.A,options);const select_Select_module=Select_module.A&&Select_module.A.locals?Select_module.A.locals:void 0;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");let Direction=function(Direction){return Direction.UP="up",Direction.DOWN="down",Direction}({});const SelectArrowhead=props=>{const{direction:arrowheadDirection=Direction.DOWN}=props,points=arrowheadDirection===Direction.DOWN?"0,0 8,0 4,8":"0,8 8,8 4,0";return(0,jsx_runtime.jsx)("svg",{className:select_Select_module.selectArrowhead,viewBox:"0 0 8 8",children:(0,jsx_runtime.jsx)("polygon",{points})})},select_SelectArrowhead=SelectArrowhead;try{SelectArrowhead.displayName="SelectArrowhead",SelectArrowhead.__docgenInfo={description:"",displayName:"SelectArrowhead",props:{direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"enum",value:[{value:'"up"'},{value:'"down"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/select/SelectArrowhead.tsx#SelectArrowhead"]={docgenInfo:SelectArrowhead.__docgenInfo,name:"SelectArrowhead",path:"src/shared/components/select/SelectArrowhead.tsx#SelectArrowhead"})}catch(__react_docgen_typescript_loader_error){}var HighlightActionType=function(HighlightActionType){return HighlightActionType.NEXT="next",HighlightActionType.PREVIOUS="previous",HighlightActionType.SET="set",HighlightActionType}(HighlightActionType||{});const highlightedItemReducer=(state,action)=>{switch(action.type){case HighlightActionType.NEXT:return((currentIndex,optionGroups)=>{const[groupIndex,itemIndex]=currentIndex||[null,null],currentGroup="number"==typeof groupIndex?optionGroups[groupIndex]:null,firstItemIndex=[0,0];return null===currentIndex?firstItemIndex:currentGroup&&"number"==typeof itemIndex&&itemIndex<currentGroup.options.length-1?[groupIndex,itemIndex+1]:groupIndex===optionGroups.length-1?firstItemIndex:"number"==typeof groupIndex?[groupIndex+1,0]:null})(state,action.payload);case HighlightActionType.PREVIOUS:return((currentIndex,optionGroups)=>{const[groupIndex,itemIndex]=currentIndex||[null,null],lastGroupIndex=optionGroups.length-1,lastItemIndex=[lastGroupIndex,optionGroups[lastGroupIndex].options.length-1];if(null===currentIndex)return lastItemIndex;if("number"==typeof itemIndex&&itemIndex>0)return[groupIndex,itemIndex-1];if(0===groupIndex)return lastItemIndex;if("number"==typeof groupIndex){const previousGroupIndex=groupIndex-1;return[previousGroupIndex,optionGroups[previousGroupIndex].options.length-1]}return null})(state,action.payload);case HighlightActionType.SET:return action.payload;default:return state}},SelectOptionsPanel=props=>{const[shouldShowTopScrollButton,showTopScrollButton]=(0,react.useState)(!1),[shouldShowBottomScrollButton,showBottomScrollButton]=(0,react.useState)(!1),[highlightedItemIndex,dispatch]=(0,react.useReducer)(highlightedItemReducer,null),elementRef=(0,react.useRef)(null),optionsListRef=(0,react.useRef)(null),scrollRef=(0,react.useRef)(0),highlightedItemIndexRef=(0,react.useRef)(highlightedItemIndex);highlightedItemIndexRef.current=highlightedItemIndex;const handleKeyDown=event=>{["ArrowUp","ArrowDown","Enter"].includes(event.key)&&(event.preventDefault(),"ArrowUp"===event.key?dispatch({type:HighlightActionType.PREVIOUS,payload:props.optionGroups}):"ArrowDown"===event.key?dispatch({type:HighlightActionType.NEXT,payload:props.optionGroups}):"Enter"===event.key&&highlightedItemIndexRef.current&&props.onSelect(highlightedItemIndexRef.current),setTimeout((()=>{optionsListRef.current&&window.requestAnimationFrame((()=>{(({container,currentIndex,optionGroups,selector})=>{const lastGroupIndex=optionGroups.length-1,lastItemIndex=[lastGroupIndex,optionGroups[lastGroupIndex].options.length-1],currentOptionElement=container.querySelector(selector);if(!currentOptionElement)return;const containerRect=container.getBoundingClientRect(),currentOptionElementRect=currentOptionElement.getBoundingClientRect();isEqual_default()(currentIndex,[0,0])&&0!==container.scrollTop?container.scrollTop=0:isEqual_default()(currentIndex,lastItemIndex)?container.scrollTop=container.scrollHeight-container.clientHeight:currentOptionElementRect.bottom+currentOptionElementRect.height>containerRect.bottom?container.scrollTop=container.scrollTop+currentOptionElementRect.height:currentOptionElementRect.top<containerRect.top+currentOptionElementRect.height&&(container.scrollTop=container.scrollTop-currentOptionElementRect.height)})({container:optionsListRef.current,optionGroups:props.optionGroups,currentIndex:highlightedItemIndexRef.current,selector:`.${select_Select_module.optionHighlighted}`})}))}),0))},handleClickOutside=event=>{const{target}=event;elementRef.current&&elementRef.current!==target&&!elementRef.current.contains(target)&&props.onClose()};(0,react.useEffect)((()=>(document.addEventListener("keydown",handleKeyDown),()=>document.removeEventListener("keydown",handleKeyDown))),[]),(0,react.useEffect)((()=>(setTimeout((()=>document.addEventListener("click",handleClickOutside)),0),()=>{document.removeEventListener("click",handleClickOutside)})),[]),(0,react.useLayoutEffect)((()=>{(elementRef=>{const panel=elementRef.current;if(!panel)return;const windowHeight=window.innerHeight,{top:panelTop,height:panelHeight}=panel.getBoundingClientRect();if(panelTop+panelHeight>windowHeight){const minHeight=300,distanceToWindowEdge=windowHeight-panelTop-10,panelHeight=Math.max(distanceToWindowEdge,minHeight);panel.style.height=`${panelHeight}px`}})(elementRef),getPanelScrollStatus(optionsListRef.current).isScrolledToBottom||showBottomScrollButton(!0)}),[]);const handleItemHover=index=>{dispatch({type:HighlightActionType.SET,payload:index})},handleItemClick=index=>{props.onSelect(index)},startScrollDown=()=>{((panel,ref)=>{const scroll=()=>{panel.scrollTop=panel.scrollTop+10,panel.scrollTop+panel.clientHeight<panel.scrollHeight&&(ref.current=window.requestAnimationFrame(scroll))};window.requestAnimationFrame(scroll)})(optionsListRef.current,scrollRef)},stopScrollDown=()=>{window.cancelAnimationFrame(scrollRef.current)},startScrollUp=()=>{((panel,ref)=>{const scroll=()=>{panel.scrollTop=panel.scrollTop-10,panel.scrollTop>0&&(ref.current=window.requestAnimationFrame(scroll))};window.requestAnimationFrame(scroll)})(optionsListRef.current,scrollRef)},stopScrollUp=()=>{window.cancelAnimationFrame(scrollRef.current)};return(0,jsx_runtime.jsxs)("div",{className:select_Select_module.optionsPanel,ref:elementRef,onScroll:()=>{const{isScrolledToTop,isScrolledToBottom}=getPanelScrollStatus(optionsListRef.current);isScrolledToTop||shouldShowTopScrollButton||showTopScrollButton(!0),isScrolledToTop&&shouldShowTopScrollButton&&showTopScrollButton(!1),isScrolledToBottom||shouldShowBottomScrollButton||showBottomScrollButton(!0),isScrolledToBottom&&shouldShowBottomScrollButton&&showBottomScrollButton(!1)},children:[(0,jsx_runtime.jsx)("div",{className:select_Select_module.optionsPanelHeader,children:props.header}),(0,jsx_runtime.jsxs)("div",{className:select_Select_module.optionsListContainer,children:[shouldShowTopScrollButton&&(0,jsx_runtime.jsx)("div",{className:select_Select_module.scrollButtonTop,onMouseEnter:startScrollUp,onTouchStart:startScrollUp,onMouseLeave:stopScrollUp,onTouchEnd:stopScrollUp,children:(0,jsx_runtime.jsx)(select_SelectArrowhead,{direction:Direction.UP})}),(0,jsx_runtime.jsx)("div",{className:select_Select_module.optionsList,ref:optionsListRef,children:props.optionGroups.map(((optionGroup,index)=>{const[groupIndex,itemIndex]=highlightedItemIndex||[null,null],otherProps=index===groupIndex?{highlightedItemIndex:itemIndex}:{};return(0,react.createElement)(SelectOptionGroup,{...optionGroup,groupIndex:index,onItemHover:handleItemHover,onItemClick:handleItemClick,...otherProps,key:index})}))}),shouldShowBottomScrollButton&&(0,jsx_runtime.jsx)("div",{className:select_Select_module.scrollButtonBottom,onMouseEnter:startScrollDown,onTouchStart:startScrollDown,onMouseLeave:stopScrollDown,onTouchEnd:stopScrollDown,children:(0,jsx_runtime.jsx)(select_SelectArrowhead,{})})]})]})},SelectOptionGroup=props=>(0,jsx_runtime.jsxs)("ul",{className:select_Select_module.optionsGroup,children:[props.title&&(0,jsx_runtime.jsx)("div",{children:props.title}),props.options.map(((option,index)=>(0,react.createElement)(SelectOption,{...option,groupIndex:props.groupIndex,itemIndex:index,isHighlighed:index===props.highlightedItemIndex,onHover:props.onItemHover,onClick:props.onItemClick,key:index})))]}),SelectOption=props=>{const className=classnames_default()(select_Select_module.option,{[select_Select_module.optionHighlighted]:props.isHighlighed}),optionIndex=[props.groupIndex,props.itemIndex];return(0,jsx_runtime.jsx)("li",{className,onMouseEnter:()=>props.onHover(optionIndex),onClick:event=>{event.stopPropagation(),event.nativeEvent.stopImmediatePropagation(),props.onClick(optionIndex)},children:props.label})},select_SelectOptionsPanel=SelectOptionsPanel;try{SelectOptionsPanel.displayName="SelectOptionsPanel",SelectOptionsPanel.__docgenInfo={description:"",displayName:"SelectOptionsPanel",props:{optionGroups:{defaultValue:null,description:"",name:"optionGroups",required:!0,type:{name:"OptionGroup[]"}},header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"ReactNode"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(index: GroupedOptionIndex) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/select/SelectOptionsPanel.tsx#SelectOptionsPanel"]={docgenInfo:SelectOptionsPanel.__docgenInfo,name:"SelectOptionsPanel",path:"src/shared/components/select/SelectOptionsPanel.tsx#SelectOptionsPanel"})}catch(__react_docgen_typescript_loader_error){}const SelectControl=props=>{const className=props.isOpen?select_Select_module.selectControlInvisible:select_Select_module.selectControl;return(0,jsx_runtime.jsxs)("span",{className,onClick:props.onClick,children:[props.selectedOption?props.selectedOption.label:props.placeholder,(0,jsx_runtime.jsx)(select_SelectArrowhead,{})]})},Select=props=>{const{placeholder=defaultPlaceholderText}=props,[isOpen,setIsOpen]=(0,react.useState)(!1),[selectedOption,optionGroups]=(optionGroups=>{const position=(optionGroups=>{for(let groupIndex=0;groupIndex<optionGroups.length;groupIndex++){const group=optionGroups[groupIndex];for(let optionIndex=0;optionIndex<group.options.length;optionIndex++)if(group.options[optionIndex].isSelected)return[groupIndex,optionIndex]}return-1})(optionGroups);if(!Array.isArray(position))return[null,optionGroups];const[groupIndex,optionIndex]=position,selectedOption=optionGroups[groupIndex].options[optionIndex],withoutSelected=cloneDeep_default()(optionGroups);return withoutSelected[groupIndex].options.splice(optionIndex,1),[selectedOption,withoutSelected]})(props.optionGroups),focusRef=(0,react.useRef)(!1);(0,react.useEffect)((()=>(document.addEventListener("keydown",handleKeyPress),()=>document.removeEventListener("keydown",handleKeyPress))),[]);const openPanel=()=>{setIsOpen(!0)},closePanel=()=>{setIsOpen(!1)},handleKeyPress=event=>{focusRef.current&&("Enter"===event.key?openPanel():"Escape"===event.key&&closePanel())},headerText=selectedOption?selectedOption.label:placeholder,className=classnames_default()(select_Select_module.select,{[select_Select_module.selectOpen]:isOpen});return(0,jsx_runtime.jsxs)("div",{className,tabIndex:0,onFocus:()=>{focusRef.current=!0},onBlur:()=>{focusRef.current=!1,isOpen&&closePanel()},children:[(0,jsx_runtime.jsx)(SelectControl,{isOpen,selectedOption,onClick:openPanel,placeholder}),isOpen&&(0,jsx_runtime.jsx)(select_SelectOptionsPanel,{optionGroups,header:headerText,onSelect:optionIndex=>{const[groupIndex,itemIndex]=optionIndex,selectedOption=optionGroups[groupIndex].options[itemIndex];props.onSelect(selectedOption.value),closePanel()},onClose:closePanel})]})},defaultPlaceholderText="Select",select_Select=props=>{if(props.optionGroups)return(0,jsx_runtime.jsx)(Select,{...props});const{options,title,...otherProps}=props,optionGroups=[{title,options}];return(0,jsx_runtime.jsx)(Select,{optionGroups,...otherProps})};try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(value: any) => void"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"Option[]"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},optionGroups:{defaultValue:null,description:"",name:"optionGroups",required:!0,type:{name:"OptionGroup[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/components/select/Select.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"src/shared/components/select/Select.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}var Select_stories_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./stories/shared-components/select/Select.stories.module.css"),Select_stories_module_options={};Select_stories_module_options.styleTagTransform=styleTagTransform_default(),Select_stories_module_options.setAttributes=setAttributesWithoutAttributes_default(),Select_stories_module_options.insert=insertBySelector_default().bind(null,"head"),Select_stories_module_options.domAPI=styleDomAPI_default(),Select_stories_module_options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Select_stories_module.A,Select_stories_module_options);const select_Select_stories_module=Select_stories_module.A&&Select_stories_module.A.locals?Select_stories_module.A.locals:void 0,createSimpleOptions=number=>times_default()(number,(time=>(number=>({value:number,label:`option ${number}`,isSelected:!1}))(time+1))),WrapperForOptions=props=>{const[options,setOptions]=(0,react.useState)(props.options);return(0,jsx_runtime.jsx)("div",{className:select_Select_stories_module.defaultWrapper,children:(0,jsx_runtime.jsx)(select_Select,{options,onSelect:selectedValue=>{props.onSelect(selectedValue);const updatedOptions=options.map((option=>({...option,isSelected:option.value===selectedValue})));setOptions(updatedOptions)}})})},WrapperForOptionGroups=props=>{const[optionGroups,setOptionGroups]=(0,react.useState)(props.optionGroups);return(0,jsx_runtime.jsx)("div",{className:select_Select_stories_module.defaultWrapper,children:(0,jsx_runtime.jsx)(select_Select,{optionGroups,onSelect:selectedValue=>{props.onSelect(selectedValue);const updatedOptionGroups=optionGroups.map((group=>({...group,options:group.options.map((option=>({...option,isSelected:option.value===selectedValue})))})));setOptionGroups(updatedOptionGroups)}})})},DefaultSelectStory=args=>(0,jsx_runtime.jsx)(WrapperForOptions,{options:createSimpleOptions(5),...args});DefaultSelectStory.storyName="default",DefaultSelectStory.parameters={notes:"# Select\n\nSelect component tries to replicate and extend the functionality of the native browser `select` element, styling it as specified in the design guideline.\n\n## Behaviour\n- Accepts either `options`, or groups of `options` (groups are separated visually in the options dropdown).\n- Upon selecting an option, calls the `onSelect` handler passing to it the value of the `value` field of the selected option object.\n- Allows navigation using keyboard (`enter` opens the dropdown with options, `up` and `down` arrow keys cycle between the options).\n- If the list of options is too tall to fit the space between the `select` element and the bottom border of the window, its height is adjusted to fit the allotted space. In such a case, the options panel shows areas (marked with up and down arrows) that initiate scrolling up or down when moused over. Taking the cursor away from these areas stops scrolling. Cycling between the options using arrow keys should also work; and each change of the option should scroll the newly highlighted option into view.\n"};const ManyOptionsSelectStory=args=>{const options=createSimpleOptions(50);return options.splice(10,0,{value:"long option value",label:"this is some ridiculously long text for an option",isSelected:!1}),(0,jsx_runtime.jsx)(WrapperForOptions,{options,...args})};ManyOptionsSelectStory.storyName="long list of options";const GroupedOptionsStory=args=>{const optionGroups=[{options:createSimpleOptions(2)},{options:createSimpleOptions(3)},{options:createSimpleOptions(4)}];return(0,jsx_runtime.jsx)(WrapperForOptionGroups,{optionGroups,...args})};GroupedOptionsStory.storyName="groups of options";const Select_stories={title:"Components/Shared Components/Select",argTypes:{onSelect:{action:"selected"}}},__namedExportsOrder=["DefaultSelectStory","ManyOptionsSelectStory","GroupedOptionsStory"];DefaultSelectStory.parameters={...DefaultSelectStory.parameters,docs:{...DefaultSelectStory.parameters?.docs,source:{originalSource:"(args: DefaultArgs) => <WrapperForOptions options={createSimpleOptions(5)} {...args} />",...DefaultSelectStory.parameters?.docs?.source}}},ManyOptionsSelectStory.parameters={...ManyOptionsSelectStory.parameters,docs:{...ManyOptionsSelectStory.parameters?.docs,source:{originalSource:"(args: DefaultArgs) => {\n  const options = createSimpleOptions(50);\n  const longOption = {\n    value: 'long option value',\n    label: 'this is some ridiculously long text for an option',\n    isSelected: false\n  };\n  options.splice(10, 0, longOption);\n  return <WrapperForOptions options={options} {...args} />;\n}",...ManyOptionsSelectStory.parameters?.docs?.source}}},GroupedOptionsStory.parameters={...GroupedOptionsStory.parameters,docs:{...GroupedOptionsStory.parameters?.docs,source:{originalSource:"(args: DefaultArgs) => {\n  const options1 = createSimpleOptions(2);\n  const options2 = createSimpleOptions(3);\n  const options3 = createSimpleOptions(4);\n  const optionGroups = [{\n    options: options1\n  }, {\n    options: options2\n  }, {\n    options: options3\n  }];\n  return <WrapperForOptionGroups optionGroups={optionGroups} {...args} />;\n}",...GroupedOptionsStory.parameters?.docs?.source}}};try{DefaultSelectStory.displayName="DefaultSelectStory",DefaultSelectStory.__docgenInfo={description:"",displayName:"DefaultSelectStory",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(...args: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/shared-components/select/Select.stories.tsx#DefaultSelectStory"]={docgenInfo:DefaultSelectStory.__docgenInfo,name:"DefaultSelectStory",path:"stories/shared-components/select/Select.stories.tsx#DefaultSelectStory"})}catch(__react_docgen_typescript_loader_error){}try{ManyOptionsSelectStory.displayName="ManyOptionsSelectStory",ManyOptionsSelectStory.__docgenInfo={description:"",displayName:"ManyOptionsSelectStory",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(...args: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/shared-components/select/Select.stories.tsx#ManyOptionsSelectStory"]={docgenInfo:ManyOptionsSelectStory.__docgenInfo,name:"ManyOptionsSelectStory",path:"stories/shared-components/select/Select.stories.tsx#ManyOptionsSelectStory"})}catch(__react_docgen_typescript_loader_error){}try{GroupedOptionsStory.displayName="GroupedOptionsStory",GroupedOptionsStory.__docgenInfo={description:"",displayName:"GroupedOptionsStory",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(...args: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/shared-components/select/Select.stories.tsx#GroupedOptionsStory"]={docgenInfo:GroupedOptionsStory.__docgenInfo,name:"GroupedOptionsStory",path:"stories/shared-components/select/Select.stories.tsx#GroupedOptionsStory"})}catch(__react_docgen_typescript_loader_error){}}}]);